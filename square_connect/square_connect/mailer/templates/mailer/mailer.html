{% extends "app/layout.html" %}

{% block content %}

<div class="jumbotron">
    <h1>Mailer</h1>
    <form method="post">
        {% csrf_token %}
        <table class="table">
            <tr>
                <th>
                    <select id="mailinglist_select" name="mailing_list">
                        <option selected="selected">-- Select Mailing List --</option>
                        <option value="mug">MUG</option>
                        <option value="vittles">Vital Vittles</option>
                        <option value="snaxa">Hoya Snaxa</option>
                        <option value="ug">Uncommon Grounds</option>
                        <option value="midnight">Midnight Mug</option>
                        <option value="hilltoss">Hilltoss</option>
                    </select>
                </th>
                <th>
                    <p>First Name: <input name="first_name" type="text" id="first_namepicker"></p>
                </th>
                <th>
                    <p>Last Name: <input name="last_name" type="text" id="last_namepicker"></p>
                </th>
                <th>
                    <p>Email: <input name="email" type="text" id="email_picker"></p>
                </th>
                <th>
                    <button id="person-form-button" type="submit" class="btn btn-default">Add person</button>
                </th>
            </tr>
        </table>
    </form>
    <h2>Mailing Lists</h2>
    <ul>
    {% for mailing_list in mailing_lists %}
        <h3>{{ mailing_list.service }}</h3>
        <ul>
        {% for person in people %} <!--should be "for person in Person.get_all_by_service("mug")", etc.-->
            <li>{{ person.first_name }} {{ person.last_name }}: {{ person.email }}</li>
        {% endfor %}
        </ul>
    {% endfor %}
</div>

{% endblock %}
